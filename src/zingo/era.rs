use crate::BranchId;

#[derive(Debug, PartialEq, Eq)]
pub enum Era {
    Orchard,
}

impl Era {
    /// Returns the unique identifier for the era.
    pub fn id(&self) -> u32 {
        // We use the consensus branch id of the network upgrade that introduced a
        // new USK format as the identifier for the era.
        match self {
            Era::Orchard => u32::from(BranchId::Nu5),
        }
    }

    pub fn try_from_id(id: u32) -> Option<Self> {
        BranchId::try_from(id).ok().and_then(|b| match b {
            BranchId::Nu5 => Some(Era::Orchard),
            _ => None,
        })
    }
}
